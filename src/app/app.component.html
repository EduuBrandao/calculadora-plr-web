<main class="container">
  <header>
    <h1>Calculadora de PLR</h1>
    <p>(1ª Parcela - Set/2025)</p>
  </header>

  <section class="card inputs-card">
    <div class="form-group">
      <label for="salario">1. Salário BRUTO:</label>
      <input id="salario" type="number" [(ngModel)]="salarioBruto" placeholder="Ex: 5500.00">
    </div>

    <div class="form-group">
      <label for="plrAnterior">2. Valor BRUTO da 2ª parcela da PLR (paga em março/2025):</label>
      <input id="plrAnterior" type="number" [(ngModel)]="plrBrutaAnterior" placeholder="Ex: 12000.00">
    </div>

    <div class="form-group">
      <label for="meses">3. Meses trabalhados em 2025 (1 a 12):</label>
      <input id="meses" type="number" [(ngModel)]="mesesTrabalhados" min="1" max="12">
    </div>

    <button (click)="calcularPLR()">Calcular PLR</button>
  </section>

  <section class="card results-card" *ngIf="calculoFeito">
    <h2>Resultado da Simulação</h2>

    <div class="info-aviso">
        <p><strong>AVISO:</strong> O cálculo considera uma projeção de dissídio de {{ REAJUSTE_SALARIAL_PERC | percent:'1.2-2' }} sobre o salário.</p>
    </div>

    <div class="info-line">
        <strong>Novo salário (com reajuste):</strong>
        <span>{{ resultado.salarioReajustado | currency:'BRL' }}</span>
    </div>
    <div class="info-line">
        <strong>Proporcionalidade aplicada:</strong>
        <span>{{ mesesTrabalhados }}/12 meses ({{ resultado.proporcao | percent:'1.2-2' }})</span>
    </div>

    <hr>
    <h3>Composição do Valor Bruto (Proporcional)</h3>
    <div class="info-line">
        <span>Antecipação Regra Básica</span>
        <span>{{ resultado.regraBasicaBruto | currency:'BRL' }}</span>
    </div>
    <div class="info-line">
        <span>Antecipação Parcela Adicional</span>
        <span>{{ resultado.parcelaAdicionalBruta | currency:'BRL' }}</span>
    </div>
    <div class="info-line">
        <span>PCR Itaú (Antecipação)</span>
        <span>{{ resultado.pcrItauBruto | currency:'BRL' }}</span>
    </div>
    <div class="info-line total">
        <strong>TOTAL BRUTO A RECEBER</strong>
        <strong>{{ resultado.totalBruto | currency:'BRL' }}</strong>
    </div>

    <hr>
    <h3>Descontos</h3>
    <div class="info-line">
        <span>Imposto de Renda (IRRF)</span>
        <span>{{ resultado.impostoRenda | currency:'BRL' }}</span>
    </div>
     <div class="info-line">
        <span>Taxa Negocial (1.5%)</span>
        <span>{{ resultado.taxaNegocial | currency:'BRL' }}</span>
    </div>
    <div class="info-line total">
        <strong>TOTAL DE DESCONTOS</strong>
        <strong>{{ resultado.totalDescontos | currency:'BRL' }}</strong>
    </div>

    <hr>
    <div class="info-line final-total">
        <strong>VALOR LÍQUIDO ESTIMADO</strong>
        <strong>{{ resultado.totalLiquido | currency:'BRL' }}</strong>
    </div>

    <div class="info-aviso disclaimer">
        <p>O valor exibido pode divergir do valor real da PLR, pois os cálculos são realizados com base em lucros projetados para os bancos.</p>
    </div>
  </section>

</main>
